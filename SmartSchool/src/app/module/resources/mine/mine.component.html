<div class="container" fxLayout="row" fxLayoutAlign="center start">
	<div class="content" fxLayout="row" fxLayoutAlign="start start" fxLayoutWrap>
		<md-card fxFlexFill>
			<div>
				<div fxLayout="row" fxLayoutAlign="start start">
					<span fxFlex="10">审核状态：</span>
					<div fxFlex="90">
						<md-radio-group fxFlex="100" fxLayoutWrap fxLayoutGap="16px" [(ngModel)]="searchReview">
							<md-radio-button value="" (change)="radioChange()">全部</md-radio-button>
  							<md-radio-button *ngFor="let property of reviewStatus; let i = index" [value]="property.value" (change)="radioChange()">{{property.viewValue}}</md-radio-button>
  						</md-radio-group>
					</div>
					
				</div>
				<div fxLayout="row" fxLayoutAlign="start start">
					<span fxFlex="10">资源状态：</span>
					<div fxFlex="90">
						<md-radio-group fxFlex="100" fxLayoutWrap fxLayoutGap="16px" [(ngModel)]="searchStatus">
							<md-radio-button value="" (change)="radioChange()">全部</md-radio-button>
  							<md-radio-button *ngFor="let property of resourceStatus; let i = index" [value]="property.value" (change)="radioChange()">{{property.viewValue}}</md-radio-button>
  						</md-radio-group>
					</div>
					
				</div>
				
				<div class="td-search-container">
					<td-search-box fxFlex="grow" backIcon="search" placeholder="搜索" [showUnderline]="true" [debounce]="500" [alwaysVisible]="true" (clear)="searchInputTerm = ''" (search)="handleSearch($event)">
					</td-search-box>
					<button md-button (click)="openDialog()">资源上传</button>
				</div>
			</div>
		</md-card>

		<table td-data-table fxFlexFill>
		  <tr td-data-table-row *ngFor="let item of list; let i = index;" fxFlexFill>
		    <td>
		    	<md-list >
					<h3 md-subheader>{{item.name}}</h3>
					<md-list-item>
						<md-icon md-list-icon>folder</md-icon>
						<div class="slot" fxLayout="column">
							<a md-button routerLink="/app/resources/detail/{{item.uuid}}">预览</a>
							<button md-button>下载</button>
							<button md-button (click)="delete(item.id)" *ngIf="item.sourceType == 1">删除</button>
							<button md-button (click)="cancelFavorite(item.id)" *ngIf="item.sourceType == 2">取消收藏</button>
						</div>
						<p md-line>作者：{{item.authorName}}&nbsp;&nbsp;&nbsp;资源类型： {{item.format}}</p>
						
						<p md-line>学校： {{item.schoolName}}&nbsp;&nbsp;&nbsp;学级：{{item.stagesName}}</p>
						<p md-line>资源标签： <span *ngFor="let label of item.lables; let i = index;">{{label}}&nbsp;&nbsp;&nbsp;</span></p>
						<p md-line>上传时间：{{item.createTime}}&nbsp;&nbsp;&nbsp;下载次数：{{item.downloads}}</p>
					</md-list-item>
				</md-list>
		    </td>
		  </tr>
		</table>
		<div class="page" fxFlexFill>
			<td-paging-bar 
				#pagingBar 
				[firstLast]="true" 
				[pageSizeAll]="false" 
				[pageSizes]="[10,20,50]"
				pageLinkCount="5" 
				[initialPage]="1" 
				[pageSize]="pageSize" 
				[total]="totalElements" 
				(change)="change($event)">
				<span td-paging-bar-label>每页:</span>
				{{pagingBar.range}} <span>of {{pagingBar.total}}</span>
			</td-paging-bar>
		</div>
	</div>
	
</div>
