<div class="container"  fxLayout="row" fxLayoutAlign="center start">
	<div class="container-content">
		
		
		
		<md-card class="menu" fxFlex="100">
			
			<div fxLayout="row" fxLayoutAlign="space-between start" >
				<div>
					<div fxFlex="60px" class="menu-brand">学段:</div>
					<md-radio-group fxLayoutWrap [(ngModel)]="searchMenu.period" name="period" (change)="periodChange()" fxFlex="grow" class="height">
					  <md-radio-button class="radio-select" value="{{child.id}}" *ngFor="let child of showMenu.period; let o = index;">{{child.name}}</md-radio-button>
					</md-radio-group>
				</div>
				<div>
					<div fxLayout="row" fxLayoutAlign="center center" class="search">
					<td-search-box backIcon="search" placeholder="搜索" [showUnderline]="true" [debounce]="500" [alwaysVisible]="true" (clear)="searchInputTerm = ''" (search)="handleSearch($event)"	>
					</td-search-box>
				</div>
				
			</div>
			</div>
			<div class="divider"></div>
			<div fxLayout="row" fxLayoutAlign="start start">
				<div fxFlex="60px" class="menu-brand">学科:</div>
				<md-radio-group fxLayoutWrap  [(ngModel)]="searchMenu.subject" name="subject" (change)="subjectChange()" fxFlex="grow" class="{{group1.value}}">
				  <md-radio-button class="radio-select" value="{{child.id}}" *ngFor="let child of showMenu.subject; let o = index;">{{child.name}}</md-radio-button>
				</md-radio-group>
				<md-button-toggle-group #group1="mdButtonToggleGroup" class="menu-md-button-toggle-group">
				  <md-button-toggle value="" *ngIf = "group1.value == 'height-auto'">
				    收起<md-icon>keyboard_arrow_up</md-icon>
				  </md-button-toggle>
				  <md-button-toggle value="height-auto" *ngIf = "!(group1.value == 'height-auto')">
				    展开<md-icon>keyboard_arrow_down</md-icon>
				  </md-button-toggle>
				</md-button-toggle-group>
			</div>
			<div class="divider"></div>
			<div fxLayout="row" fxLayoutAlign="start start">
				<div fxFlex="60px" class="menu-brand">版本:</div>
				<md-radio-group [(ngModel)]="searchMenu.version" name="version" (change)="versionChange()" fxFlex="grow" class="{{group2.value}}">
				  <md-radio-button class="radio-select" value="{{child.id}}" *ngFor="let child of showMenu.version; let o = index;">{{child.name}}</md-radio-button>
				</md-radio-group>
				<md-button-toggle-group #group2="mdButtonToggleGroup" class="menu-md-button-toggle-group">
				  <md-button-toggle value="" *ngIf = "group2.value == 'height-auto'">
				    收起<md-icon>keyboard_arrow_up</md-icon>
				  </md-button-toggle>
				  <md-button-toggle value="height-auto" *ngIf = "!(group2.value == 'height-auto')">
				    展开<md-icon>keyboard_arrow_down</md-icon>
				  </md-button-toggle>
				</md-button-toggle-group>
			</div>
			<div class="divider"></div>
			<div fxLayout="row" fxLayoutAlign="start start">
				<div fxFlex="60px" class="menu-brand">教材:</div>
				<md-radio-group [(ngModel)]="searchMenu.textbook" name="textbook" (change)="textbookChange()" fxFlex="grow" class="{{group3.value}}">
				  <md-radio-button class="radio-select" value="{{child.id}}" *ngFor="let child of showMenu.textbook; let o = index;">{{child.name}}</md-radio-button>
				</md-radio-group>
				<md-button-toggle-group #group3="mdButtonToggleGroup" class="menu-md-button-toggle-group">
				  <md-button-toggle value="" *ngIf = "group3.value == 'height-auto'">
				    收起<md-icon>keyboard_arrow_up</md-icon>
				  </md-button-toggle>
				  <md-button-toggle value="height-auto" *ngIf = "!(group3.value == 'height-auto')">
				    展开<md-icon>keyboard_arrow_down</md-icon>
				  </md-button-toggle>
				</md-button-toggle-group>
			</div>
			<div class="divider"></div>
			<div fxLayout="row" fxLayoutAlign="start start">
				<div fxFlex="60px" class="menu-brand">类型:</div>
				<md-radio-group [(ngModel)]="formatValue" name="formatValue" (change)="formatChange()" fxFlex="grow" class="{{group4.value}}">
				  <md-radio-button class="radio-select" value="{{item.value}}" *ngFor="let item of fileTypes; let o = index;">{{item.text}}</md-radio-button>
				</md-radio-group>
				<md-button-toggle-group #group4="mdButtonToggleGroup" class="menu-md-button-toggle-group">
				  <md-button-toggle value="" *ngIf = "group4.value == 'height-auto'">
				    收起<md-icon>keyboard_arrow_up</md-icon>
				  </md-button-toggle>
				  <md-button-toggle value="height-auto" *ngIf = "!(group4.value == 'height-auto')">
				    展开<md-icon>keyboard_arrow_down</md-icon>
				  </md-button-toggle>
				</md-button-toggle-group>
			</div>
			<div class="divider"></div>
			<div fxLayout="row" fxLayoutAlign="end center" class="sort">
				<div class="number">
					总容量：{{bytesToSize(sumSize.sumSize)}}， 总资料：{{sumSize.count}}套
				</div>
<!-- 
				<div>
	        		<button md-button (click)="openDialog({})" fxFlex="120px">上传资源</button>
	        		<button md-button (click)="ascending()"><md-icon>arrow_upward</md-icon>资源评分由低到高</button>
					<button md-button (click)="descending()"><md-icon>arrow_downward</md-icon>资源评分由高到低</button>
				</div> -->
			</div>
			<div class="divider"></div>
			<div fxLayout="row" fxLayoutAlign="start start">
				<tree-root [nodes]="nodesTree" fxFlex="275px" class="tree-menu">
					<h3>教材目录</h3>
			    	<div class="divider"></div>
					<ng-template #treeNodeTemplate let-node let-index="index">
						<md-icon>folder</md-icon>
						<span (click)="chapterSearch(node.data.id)">{{ node.data.name }}</span>
					</ng-template>
				</tree-root>
				<div fxLayout="row" fxLayoutAlign="start start" fxLayoutWrap>
					<div fxFlex="100" fxLayoutAlign="space-between start">
						
						<div>
							<button md-button (click)="ascending()" class="sort"><md-icon>arrow_upward</md-icon>资源评分由低到高</button>
							<button md-button (click)="descending()" class="sort"><md-icon>arrow_downward</md-icon>资源评分由高到低</button>
						</div>
						<button md-button (click)="openDialog({})" fxFlex="120px">上传资源</button>
					</div>
					<div class="divider"></div>
					<md-list fxFlex="100" *ngFor="let item of resourcelist; let o = index;">
					  <a md-subheader routerLink="/app/resource/detail/{{item.uuid}}"><h4>{{item.name}}</h4></a>
					  <md-list-item>
					  	<i [class]="iconfont(item.format)" md-list-icon></i>
					    <p md-line>{{item.stagesName}} | {{item.gradeName}} | {{item.versionName}} | {{item.courseName}}</p>
					    <p md-line>收藏人数：{{item.favorites}} | 下载次数：{{item.downloads}} |上传时间：{{item.updateTime | date: 'yyyy-MM-dd'}} </p>
					    <p md-line><bar-rating [(rate)]="item.averComment" [max]="5" [theme]="'default'" [readOnly]="true"></bar-rating></p>
					    <div class="slot" fxLayoutAlign="start start">
					    	<a md-button routerLink="/app/resource/detail/{{item.uuid}}" ><i class="material-icons primary">view_module</i>资源预览</a>

					    	<button md-button (click)="download(item.uuid)" class="primary"><i class="material-icons blue">file_download</i>资源下载</button>
					    </div>
					  </md-list-item>
					  <md-divider></md-divider>
					</md-list>
				</div>	
			</div>
			<div fxLayout="row" fxLayoutAlign="start start">
				<td-paging-bar 
					#pagingBar 
					[firstLast]="true" 
					[pageSizeAll]="false"
					[pageSizes]="[10,20,50]"
					pageLinkCount="5" 
					[initialPage]="initialPage"
					[pageSize]="pageSize" 
					[total]="totalCount" 
					(change)="change($event)" fxFlex="100">
					<span td-paging-bar-label>每页:</span>
					{{pagingBar.range}} <span>of {{pagingBar.total}}</span>
				</td-paging-bar>
			</div>
			
		</md-card>
		
		
			
	</div>
</div>

